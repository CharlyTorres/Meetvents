<form action="/create" method="POST">
  <label for="date">Date</label>
  <input type="date" name="date"><br>
  <label for="name">Name</label>
  <input type="name" name="name"><br>
  <label for="place">Place</label>
  <input type="text" name="place"><br>
  <label for="genre">Genre</label>
  <select name="genre">
    <option value="CULTURAL">Cultural</option>
    <option value="CONCERT">Concert</option>
    <option value="SPORTS">Sports</option>
    <option value="FESTIVALS">Festivals</option>
    <option value="FOOD/DRINK">Food and Drink</option>
    <option value="CONFERENCE">Conference</option>
    <option value="STAND-UP">Stand Up</option>
  </select><br>
  <label for="capacity">Capacity</label>
  <input type="text" name="capacity"><br>
  <label for="photo">Photo URL:</label>
  <input type="text" name="photo"><br>
  <label for="price">Price</label>
  <input type="text" name="price"><br>
  <label for="description">Event Information:</label>
  <textarea name="description" style="width:250px;height:150px;"></textarea><br>
  <label for="adress">Adress</label>
  <input type="text" name="adress"><br>
<div id='map' style='width: 400px; height: 300px;'></div>
  <input type="text" name="longitude" id="longitude" style="display: none;">
  <input type="text" name="latitude" id="latitude" style="display: none;">

  <div class="field">
    <p class="control">
      <button class="button is-success">
        Create Event
      </button>
    </p>
  </div>
</form>

        {{#if message}}
        <div class="alert alert-danger" role="alert">
          {{message}}
        </div>
        {{/if}}

    <script>
  mapboxgl.accessToken = 'pk.eyJ1Ijoiam9zc2R6IiwiYSI6ImNrMGR4cWk2djBhbWszY3F2b3N4bDBqZTUifQ.ByHk_m_uZOjYaruW6T8Wig';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-79.4512, 43.6568],
    zoom: 13
  });
  map.addControl(
    new MapboxGeocoder({
      accessToken: mapboxgl.accessToken,
      mapboxgl: mapboxgl
    })
  );
  map.on("moveend", () => {
    const { lng, lat } = map.getCenter()
    const $longitude = document.querySelector('#longitude')
    const $latitude = document.querySelector('#latitude')
    $longitude.value = lng
    $latitude.value = lat
  })
</script>
