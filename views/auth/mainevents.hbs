  <div class="detail">
  {{#each events}}
  <div class="column is-4">
    <div class="card">
      <div class="card-image">
        <figure class="image is-4by3">
          <img src="{{this.photo}}" alt="Placeholder image">
        </figure>
      </div>
      <div class="card-content">
        <div class="media">
          <div class="media-content">
            <p class="title is-4">{{this.name}}</p>
            <p class="subtitle is-6">{{this.description}}</p>
            <p class="subtitle is-6">${{this.price}}</p>
            <p class="subtitle is-6">available tickets: {{this.availableTickets}}</p>
            <p class="subtitle is-6"><span class="tag is-primary">{{this.genre}}</span></p>
            <p class="subtitle is-6"><time datetime="2016-1-1">{{this.date}}</time></span></p>
          </div>
        </div>
        <footer class="card-footer">
          <p class="card-footer-item">
            <span>
              <form action="/addevents/{{this.id}}" method="POST">
                <input type="submit" value="Assist" name="addevent">
              </form>
              <a href="/assistants/{{this.id}}" class="href">Assistants</a>
            </span>
          </p>
        </footer>
      </div>
    </div>
  </div>
  <div id="map" style="width: 500px; height:500px;"></div>
<script>
  mapboxgl.accessToken = 'pk.eyJ1Ijoiam9zc2R6IiwiYSI6ImNrMGR4cWk2djBhbWszY3F2b3N4bDBqZTUifQ.ByHk_m_uZOjYaruW6T8Wig';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [{{this.location.coordinates.[0]}}, {{this.location.coordinates.[1]}}],
    zoom: 15
  });
  map.addControl(
    new MapboxGeocoder({
      accessToken: mapboxgl.accessToken,
      mapboxgl: mapboxgl
    })
  );
  map.on("moveend", () => {
    const { lng, lat } = map.getCenter()
    const $longitude = document.querySelector('#longitude')
    const $latitude = document.querySelector('#latitude')
    $longitude.value = lng
    $latitude.value = lat
  })

  new mapboxgl.Marker().setLngLat([{{this.location.coordinates.[0]}}, {{this.location.coordinates.[1]}}]).addTo(map)
  document.querySelector('input[placeholder="Search"]').value="{{location.address}}"
  let address = document.querySelector('input[placeholder="Search"]').value
</script>
  {{/each}}
  </div>